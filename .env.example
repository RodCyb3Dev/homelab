# =============================================================================
# HOMELAB ENVIRONMENT VARIABLES
# =============================================================================
# This file contains all environment variables required by the homelab
# infrastructure. Copy this file to .env and fill in your actual values.
#
# For production, use 1Password CLI (recommended) or set these in your shell.
# The .kamal/secrets script will automatically use 1Password or fall back to .env
#
# Usage:
#   1. Copy this file: cp .env.example .env
#   2. Fill in your actual values
#   3. Never commit .env to git (it's in .gitignore)
# =============================================================================

# =============================================================================
# DOMAIN CONFIGURATION
# =============================================================================
# Your primary domain name (e.g., rodneyops.com)
DOMAIN=rodneyops.com

# =============================================================================
# CLOUDFLARE DNS & SSL
# =============================================================================
# Cloudflare API email (your Cloudflare account email)
CF_API_EMAIL=your-email@example.com

# Cloudflare API key or token
# Get from: https://dash.cloudflare.com/profile/api-tokens
# Required permissions: Zone:Read, DNS:Edit
CF_API_KEY=your-cloudflare-api-key-or-token

# =============================================================================
# TAILSCALE (Zero-Trust Network)
# =============================================================================
# Tailscale auth key for joining the tailnet
# Generate at: https://login.tailscale.com/admin/settings/keys
# Format: tskey-auth-xxxxxxxxxxxxx
TS_AUTHKEY=tskey-auth-xxxxxxxxxxxxx

# Tailscale base domain (e.g., kooka-lake.ts.net)
# This is the BASE domain - subdomains are added automatically
TAILSCALE_DOMAIN=kooka-lake.ts.net
# Example: jellyfin.kooka-lake.ts.net, jellyseerr.kooka-lake.ts.net

# =============================================================================
# AUTHELIA (SSO & 2FA)
# =============================================================================
# Authelia JWT secret (generate a random 32+ character string)
# Generate with: openssl rand -base64 32
AUTHELIA_JWT_SECRET=your-jwt-secret-32-chars-minimum

# Authelia session secret (generate a random 32+ character string)
# Generate with: openssl rand -base64 32
AUTHELIA_SESSION_SECRET=your-session-secret-32-chars-minimum

# Authelia storage encryption key (generate a random 32+ character string)
# Generate with: openssl rand -base64 32
AUTHELIA_STORAGE_ENCRYPTION_KEY=your-storage-encryption-key-32-chars-minimum

# Authelia SMTP password (for email notifications and 2FA)
# This is the password for your SMTP account
AUTHELIA_NOTIFIER_SMTP_PASSWORD=your-smtp-password

# =============================================================================
# CROWDSEC (Intrusion Detection/Prevention)
# =============================================================================
# CrowdSec enrollment key (for connecting to CrowdSec API)
# Get from: https://app.crowdsec.net/
CROWDSEC_ENROLL_KEY=your-crowdsec-enroll-key

# CrowdSec bouncer API key (for Traefik integration)
# Generate with: docker exec crowdsec cscli bouncers add traefik-bouncer
CROWDSEC_BOUNCER_KEY=your-crowdsec-bouncer-api-key

# =============================================================================
# GRAFANA (Monitoring Dashboards)
# =============================================================================
# Grafana admin username
GRAFANA_ADMIN_USER=admin

# Grafana admin password (use a strong password)
GRAFANA_ADMIN_PASSWORD=your-secure-grafana-password

# =============================================================================
# DATABASE PASSWORDS
# =============================================================================
# PostgreSQL root password (for main database)
# Generate with: openssl rand -base64 24
POSTGRES_PASSWORD=your-postgres-password

# Authelia PostgreSQL password (for Authelia's database)
# Generate with: openssl rand -base64 24
AUTHELIA_STORAGE_POSTGRES_PASSWORD=your-authelia-postgres-password

# =============================================================================
# REDIS (Caching & Sessions)
# =============================================================================
# Redis password (for Redis authentication)
# Generate with: openssl rand -base64 24
REDIS_PASSWORD=your-redis-password

# =============================================================================
# HETZNER STORAGE BOX
# =============================================================================
# Storage Box hostname (e.g., u526046.your-storagebox.de)
STORAGE_BOX_HOST=u526046.your-storagebox.de

# Storage Box username (usually same as hostname prefix)
STORAGE_BOX_USER=u526046

# Storage Box password (your Storage Box password)
STORAGE_BOX_PASSWORD=your-storage-box-password

# =============================================================================
# BACKUP ENCRYPTION
# =============================================================================
# Backup encryption key (for encrypting backups)
# Generate with: openssl rand -base64 32
BACKUP_ENCRYPTION_KEY=your-backup-encryption-key-32-chars-minimum

# =============================================================================
# MEDIA SERVER APPS (Arr Stack)
# =============================================================================
# User ID for file ownership (usually 1000)
PUID=1000

# Group ID for file ownership (usually 1000)
PGID=1000

# Timezone (e.g., Europe/Helsinki, America/New_York, UTC)
TIMEZONE=UTC

# =============================================================================
# DOCKER REGISTRY (For Kamal Deployments)
# =============================================================================
# Docker registry username (e.g., for GitHub Container Registry)
KAMAL_REGISTRY_USERNAME=your-registry-username

# Docker registry password/token (e.g., GitHub Personal Access Token)
# For GHCR: Create at https://github.com/settings/tokens
# Required scopes: write:packages, read:packages
KAMAL_REGISTRY_PASSWORD=your-registry-password-or-token

# =============================================================================
# OPTIONAL: ADDITIONAL SERVICES
# =============================================================================
# Gotify admin password (for push notifications)
# Only needed if using Gotify service
GOTIFY_ADMIN_USER=rodneyops
GOTIFY_ADMIN_PASSWORD=JVcxkEAy3PPLs92xYJNsqiWD

# VPN Private Key (for Gluetun/WireGuard)
# Only needed if using VPN services
VPN_PRIVATE_KEY=your-wireguard-private-key

# VPN Addresses (for Gluetun/WireGuard)
# Format: 10.2.0.2/32
VPN_ADDRESSES=10.2.0.2/32

# VPN Provider (for Gluetun)
# Options: protonvpn, nordvpn, etc.
VPN_PROVIDER=protonvpn

# VPN Countries (comma-separated)
VPN_COUNTRIES=Netherlands

# SMTP Configuration (for email services)
SMTP_HOST=smtp.protonmail.ch
SMTP_PORT=587
SMTP_USERNAME=your-smtp-username
SMTP_PASSWORD=your-smtp-password

# =============================================================================
# NOTES
# =============================================================================
# 1. All secrets should be strong, randomly generated strings
# 2. Never commit this file with actual values
# 3. Use 1Password CLI for production (recommended)
# 4. The .kamal/secrets script will automatically use 1Password or .env
# 5. Generate random strings with: openssl rand -base64 32
# =============================================================================

# Jellyseerr Application URL (optional, can be set in UI)
# Format: https://jellyseerr.${TAILSCALE_DOMAIN}
JELLYSEERR_URL=https://jellyseerr.kooka-lake.ts.net
